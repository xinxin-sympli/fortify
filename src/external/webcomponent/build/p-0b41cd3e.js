function r(r){return"undefined"!=typeof Buffer&&Buffer.isBuffer(r)?new Uint8Array(r):ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r)}class t{static ToString(t,e="utf8"){const n=r(t);switch(e.toLowerCase()){case"utf8":return this.ToUtf8String(n);case"binary":return this.ToBinary(n);case"hex":return this.ToHex(n);case"base64":return this.ToBase64(n);case"base64url":return this.ToBase64Url(n);default:throw new Error(`Unknown type of encoding '${e}'`)}}static FromString(r,t="utf8"){switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(r);case"binary":return this.FromBinary(r);case"hex":return this.FromHex(r);case"base64":return this.FromBase64(r);case"base64url":return this.FromBase64Url(r);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToBase64(t){const e=r(t);if("undefined"!=typeof btoa){const r=this.ToString(e,"binary");return btoa(r)}return Buffer.from(e).toString("base64")}static FromBase64(r){return r=r.replace(/\n/g,"").replace(/\r/g,"").replace(/\t/g,"").replace(/\s/g,""),"undefined"!=typeof atob?this.FromBinary(atob(r)):new Uint8Array(Buffer.from(r,"base64")).buffer}static FromBase64Url(r){return this.FromBase64(this.Base64Padding(r.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(r){return this.ToBase64(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(r){const t=unescape(encodeURIComponent(r)),e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e.buffer}static ToUtf8String(t){const e=r(t),n=String.fromCharCode.apply(null,e);return decodeURIComponent(escape(n))}static FromBinary(r){const t=r.length,e=new Uint8Array(t);for(let n=0;n<t;n++)e[n]=r.charCodeAt(n);return e.buffer}static ToBinary(t){const e=r(t);let n="";const s=e.length;for(let r=0;r<s;r++)n+=String.fromCharCode(e[r]);return n}static ToHex(t){const e=r(t),n=[],s=e.length;for(let r=0;r<s;r++){const t=e[r].toString(16);n.push(1===t.length?"0"+t:t)}return n.join("")}static FromHex(r){const t=new Uint8Array(r.length/2);for(let e=0;e<r.length;e+=2){const n=r.slice(e,e+2);t[e/2]=parseInt(n,16)}return t.buffer}static Base64Padding(r){const t=4-r.length%4;if(t<4)for(let e=0;e<t;e++)r+="=";return r}}class e{static toArrayBuffer(r){const t=this.toUint8Array(r);return t.byteOffset||t.length?t.buffer.slice(t.byteOffset,t.byteOffset+t.length):t.buffer}static toUint8Array(r){if("undefined"!=typeof Buffer&&Buffer.isBuffer(r))return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);if(r instanceof ArrayBuffer)return new Uint8Array(r);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(r){return ArrayBuffer.isView(r)||r instanceof ArrayBuffer}}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(r,t){return r(t={exports:{}},t.exports),t.exports}function a(r){return r&&r.default||r}export{e as B,t as C,n as a,s as c,a as g}