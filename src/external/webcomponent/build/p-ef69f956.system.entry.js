var __awaiter=this&&this.__awaiter||function(e,t,r,i){function n(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function a(e){try{s(i.next(e))}catch(t){o(t)}}function c(e){try{s(i["throw"](e))}catch(t){o(t)}}function s(e){e.done?r(e.value):n(e.value).then(a,c)}s((i=i.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,n,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(e){return function(t){return s([e,t])}}function s(a){if(i)throw new TypeError("Generator is already executing.");while(r)try{if(i=1,n&&(o=a[0]&2?n["return"]:a[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;if(n=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;n=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1];o=a;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(a);break}if(o[2])r.ops.pop();r.trys.pop();continue}a=t.call(e,r)}catch(c){a=[6,c];n=0}finally{i=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};System.register(["./p-3e023753.system.js","./p-b0f61c01.system.js","./p-b1a7d290.system.js"],(function(e,t){"use strict";var r,i,n,o,a,c,s,l;return{setters:[function(e){r=e.r;i=e.c;n=e.h;o=e.g;a=e.H},function(e){c=e.C},function(e){s=e.l;l=e.g}],execute:function(){var u=this;var f=/iPhone/i;var d=/iPod/i;var p=/iPad/i;var h=/\biOS-universal(?:.+)Mac\b/i;var g=/\bAndroid(?:.+)Mobile\b/i;var _=/Android/i;var v=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i;var b=/Silk/i;var y=/Windows Phone/i;var E=/\bWindows(?:.+)ARM\b/i;var C=/BlackBerry/i;var w=/BB10/i;var k=/Opera Mini/i;var D=/\b(CriOS|Chrome)(?:.+)Mobile/i;var N=/Mobile(?:.+)Firefox\b/i;var m=function(e){return typeof e!=="undefined"&&e.platform==="MacIntel"&&typeof e.maxTouchPoints==="number"&&e.maxTouchPoints>1&&typeof MSStream==="undefined"};function I(e){return function(t){return t.test(e)}}function S(e){var t={userAgent:"",platform:"",maxTouchPoints:0};if(!e&&typeof navigator!=="undefined"){t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}}else if(typeof e==="string"){t.userAgent=e}else if(e&&e.userAgent){t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}}var r=t.userAgent;var i=r.split("[FBAN");if(typeof i[1]!=="undefined"){r=i[0]}i=r.split("Twitter");if(typeof i[1]!=="undefined"){r=i[0]}var n=I(r);var o={apple:{phone:n(f)&&!n(y),ipod:n(d),tablet:!n(f)&&(n(p)||m(t))&&!n(y),universal:n(h),device:(n(f)||n(d)||n(p)||n(h)||m(t))&&!n(y)},amazon:{phone:n(v),tablet:!n(v)&&n(b),device:n(v)||n(b)},android:{phone:!n(y)&&n(v)||!n(y)&&n(g),tablet:!n(y)&&!n(v)&&!n(g)&&(n(b)||n(_)),device:!n(y)&&(n(v)||n(b)||n(g)||n(_))||n(/\bokhttp\b/i)},windows:{phone:n(y),tablet:n(E),device:n(y)||n(E)},other:{blackberry:n(C),blackberry10:n(w),opera:n(k),firefox:n(N),chrome:n(D),device:n(C)||n(w)||n(k)||n(N)||n(D)},any:false,phone:false,tablet:false};o.any=o.apple.device||o.android.device||o.windows.device||o.other.device;o.phone=o.apple.phone||o.android.phone||o.windows.phone;o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet;return o}var A="127.0.0.1:31337";var T=1e4;var O;(function(e){e["PROVIDERS_ADDED"]="providers:added";e["PROVIDERS_REMOVED"]="providers:removed";e["CLOSE"]="close";e["CONNECTION_PENDING"]="connection:pending";e["CONNECTION_RESOLVED"]="connection:resolved";e["CONNECTION_NOT_SUPPORTED"]="connection:not_supported";e["CONNECTION_REJECTED"]="connection:rejected";e["CHALLENGE_PENDING"]="challenge:pending";e["CHALLENGE_RESOLVED"]="challenge:resolved";e["CHALLENGE_REJECTED"]="challenge:rejected";e["DATA_CERTIFICATES_PENDING"]="data:certificates:pending";e["DATA_CERTIFICATES_RESOLVED"]="data:certificates:resolved";e["DATA_PROVIDERS_PENDING"]="data:providers:pending";e["DATA_PROVIDERS_RESOLVED"]="data:providers:resolved"})(O||(O={}));if(!Uint8Array.prototype.slice){Object.defineProperty(Uint8Array.prototype,"slice",{value:function(e,t){return new Uint8Array(Array.prototype.slice.call(this,e,t))}})}var P=function(){return __awaiter(u,void 0,void 0,(function(){var e,r,i,n;return __generator(this,(function(o){switch(o.label){case 0:if(!!window["asmCrypto"])return[3,2];e=window;r="asmCrypto";return[4,t.import("./p-5afd9692.system.js")];case 1:e[r]=o.sent();o.label=2;case 2:if(!!window["elliptic"])return[3,4];i=window;n="elliptic";return[4,t.import("./p-b17c0e59.system.js")];case 3:i[n]=o.sent().default;o.label=4;case 4:return[4,t.import("./p-bbaf40db.system.js")];case 5:o.sent();if(!!window["protobuf"])return[3,7];return[4,t.import("./p-0a7f9139.system.js")];case 6:o.sent();o.label=7;case 7:if(!!window["WebcryptoSocket"])return[3,9];return[4,t.import("./p-8c1a4e1a.system.js")];case 8:o.sent();o.label=9;case 9:return[2]}}))}))};var R=undefined&&undefined.__classPrivateFieldGet||function(e,t){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return t.get(e)};var F=undefined&&undefined.__classPrivateFieldSet||function(e,t,r){if(!t.has(e)){throw new TypeError("attempted to set private field on non-instance")}t.set(e,r);return r};var L,x,V,G,B;var M=function(){function e(e){L.set(this,void 0);x.set(this,void 0);V.set(this,S(window.navigator));G.set(this,void 0);B.set(this,"");this.options={logger:function(){},filters:{}};if(e.logger){this.options.logger=e.logger}if(e.filters){this.options.filters=e.filters}}e.prototype.isConnectionSupported=function(){return!R(this,V).phone};e.prototype.getServer=function(){return R(this,L)};e.hasConnection=function(){return __awaiter(this,void 0,void 0,(function(){var e,t;return __generator(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);return[4,fetch("https://"+A+"/.well-known/webcrypto-socket")];case 1:e=r.sent();return[2,e.ok];case 2:t=r.sent();return[2,false];case 3:return[2]}}))}))};e.prototype.checkHasConnection=function(){return __awaiter(this,void 0,void 0,(function(){var t=this;return __generator(this,(function(r){return[2,new Promise((function(r){var i=function(){return __awaiter(t,void 0,void 0,(function(){var t;return __generator(this,(function(n){switch(n.label){case 0:return[4,e.hasConnection()];case 1:t=n.sent();if(t){r()}else{F(this,G,window.setTimeout(i,T))}return[2]}}))}))};i()}))]}))}))};e.prototype.tryChallenge=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return[4,R(this,L).isLoggedIn()];case 1:e=t.sent();if(!e){return[2,R(this,L).challenge()]}return[2,null]}}))}))};e.prototype.login=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,R(this,L).login()];case 1:e.sent();return[2]}}))}))};e.prototype.connect=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,r;var i=this;return __generator(this,(function(n){switch(n.label){case 0:return[4,P()];case 1:n.sent();if(!!R(this,x))return[3,5];n.label=2;case 2:n.trys.push([2,4,,5]);e=F;t=[this,x];return[4,WebcryptoSocket.BrowserStorage.create()];case 3:e.apply(void 0,t.concat([n.sent()]));return[3,5];case 4:r=n.sent();F(this,x,new WebcryptoSocket.MemoryStorage);return[3,5];case 5:return[2,new Promise((function(e,t){if(R(i,L)){e()}F(i,L,new WebcryptoSocket.SocketProvider({storage:R(i,x)}).connect(A).on("error",(function(e){console.log(e);t()})).on("listening",(function(){return __awaiter(i,void 0,void 0,(function(){return __generator(this,(function(t){e();return[2]}))}))})).on("token",(function(e){return __awaiter(i,void 0,void 0,(function(){return __generator(this,(function(t){if(e.added.length){this.options.logger(O.PROVIDERS_ADDED,e.added)}if(e.removed.length){this.options.logger(O.PROVIDERS_REMOVED,e.removed)}return[2]}))}))})).on("disconnect",(function(){console.log("disconnect")})).on("close",(function(){i.options.logger(O.CLOSE)})))}))]}}))}))};e.prototype.disconnect=function(){if(R(this,L)){R(this,L).client.close();F(this,L,null)}if(R(this,G)){clearTimeout(R(this,G));F(this,G,null)}};e.prototype.start=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:this.options.logger(O.CONNECTION_PENDING);if(!this.isConnectionSupported()){this.options.logger(O.CONNECTION_NOT_SUPPORTED);return[2]}return[4,e.hasConnection()];case 1:if(!t.sent()){this.options.logger(O.CONNECTION_REJECTED)}return[4,this.checkHasConnection()];case 2:t.sent();return[4,this.connect()];case 3:t.sent();return[4,this.tryLogin()];case 4:t.sent();return[2]}}))}))};e.prototype.tryLogin=function(){return __awaiter(this,void 0,void 0,(function(){var e,t;return __generator(this,(function(r){switch(r.label){case 0:return[4,this.tryChallenge()];case 1:e=r.sent();if(!e)return[3,5];F(this,B,e);this.options.logger(O.CHALLENGE_PENDING);r.label=2;case 2:r.trys.push([2,4,,5]);return[4,this.login()];case 3:r.sent();F(this,B,undefined);this.options.logger(O.CHALLENGE_RESOLVED);return[3,5];case 4:t=r.sent();F(this,B,undefined);this.options.logger(O.CHALLENGE_REJECTED);return[2];case 5:this.options.logger(O.CONNECTION_RESOLVED);return[2]}}))}))};e.prototype.getChallenge=function(){return R(this,B)};e.prototype.isProviderValid=function(e){var t=this.options.filters;if(t&&t.onlyRemote&&!e.isRemovable){return false}return true};e.prototype.getProvidersInfo=function(){return __awaiter(this,void 0,void 0,(function(){var e;var t=this;return __generator(this,(function(r){switch(r.label){case 0:return[4,R(this,L).info()];case 1:e=r.sent();return[2,e.providers.filter((function(e){return t.isProviderValid(e)}))]}}))}))};e.prototype.getProviderById=function(e){return __awaiter(this,void 0,void 0,(function(){var t,r,i;return __generator(this,(function(n){switch(n.label){case 0:return[4,R(this,L).getCrypto(e)];case 1:t=n.sent();return[4,t.isLoggedIn()];case 2:r=n.sent();if(!!r)return[3,6];n.label=3;case 3:n.trys.push([3,5,,6]);return[4,t.login()];case 4:n.sent();return[3,6];case 5:i=n.sent();return[2,undefined];case 6:return[2,t]}}))}))};e.prototype.certificateFilterAndGetPrivateKeyId=function(e,t,r){var i=this.options.filters;if(!i.expired&&e.notAfter.getTime()<Date.now()){return false}var n=r.filter((function(e){var r=e.split("-");return r[0]==="private"&&r[2]===t.split("-")[2]}))[0];if(!n){return false}if(i.emailMatch&&!e.subjectName.includes(i.emailMatch)){return false}return n};e.prototype.getCertificatesById=function(t){return __awaiter(this,void 0,void 0,(function(){var r,i,n,o,a,c,s,l,u,f;return __generator(this,(function(d){switch(d.label){case 0:return[4,this.getProviderById(t)];case 1:r=d.sent();if(!r){return[2,undefined]}i=[];return[4,r.keyStorage.keys()];case 2:n=d.sent();return[4,r.certStorage.keys()];case 3:o=d.sent();a=0,c=o;d.label=4;case 4:if(!(a<c.length))return[3,10];s=c[a];if(s.split("-")[0]!=="x509"){return[3,9]}l=void 0;d.label=5;case 5:d.trys.push([5,7,,8]);return[4,r.certStorage.getItem(s)];case 6:l=d.sent();return[3,8];case 7:u=d.sent();console.warn("Can't read certificate: "+s);return[3,9];case 8:f=this.certificateFilterAndGetPrivateKeyId(l,s,n);if(!f){return[3,9]}l.id=s;l.subject=e.getSubjectIssuerValue(l.subjectName);l.issuer=e.getSubjectIssuerValue(l.issuerName);l.privateKeyId=f;i.push(l);d.label=9;case 9:a++;return[3,4];case 10:return[2,i]}}))}))};e.prototype.getCertificateBodyById=function(e,t){return __awaiter(this,void 0,void 0,(function(){var r,i,n;return __generator(this,(function(o){switch(o.label){case 0:return[4,this.getProviderById(e)];case 1:r=o.sent();if(!r){return[2,undefined]}return[4,r.certStorage.getItem(t)];case 2:i=o.sent();return[4,r.certStorage.exportCert("raw",i)];case 3:n=o.sent();return[2,c.ToBase64(n)]}}))}))};e.getSubjectIssuerValue=function(e){var t={};var r=e.split(/, /g);r.forEach((function(e){var r=e.split("=");t[r[0]]=r[1]}));return t};return e}();L=new WeakMap,x=new WeakMap,V=new WeakMap,G=new WeakMap,B=new WeakMap;var j=undefined&&undefined.__classPrivateFieldSet||function(e,t,r){if(!t.has(e)){throw new TypeError("attempted to set private field on non-instance")}t.set(e,r);return r};var z=undefined&&undefined.__classPrivateFieldGet||function(e,t){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return t.get(e)};var W;var U=function(){function e(e){this.certificates=[];this.providers=[];W.set(this,void 0);j(this,W,new M(e))}e.prototype.start=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,z(this,W).start()];case 1:e.sent();return[2]}}))}))};e.prototype.tryLogin=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,z(this,W).tryLogin()];case 1:e.sent();return[2]}}))}))};e.prototype.getCertificateBodyById=function(e,t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(r){return[2,z(this,W).getCertificateBodyById(e,t)]}))}))};e.prototype.getServer=function(){return z(this,W).getServer()};e.prototype.getChallenge=function(){return z(this,W).getChallenge()};e.prototype.finish=function(){z(this,W).disconnect();this.certificates=[];this.providers=[]};e.prototype.selectCertificate=function(e){this.certificates=this.certificates.map((function(t){var r=false;if(t.id===e){r=true}Object.assign(t,{selected:r});return t}))};e.prototype.getSelectedCertificate=function(){return this.certificates.find((function(e){return e.selected}))};e.prototype.dataCertificates=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,r,i;var n;return __generator(this,(function(o){switch(o.label){case 0:this.certificates=[];if(this.providers.length===0){return[2]}z(this,W).options.logger(O.DATA_CERTIFICATES_PENDING);e=0,t=this.providers;o.label=1;case 1:if(!(e<t.length))return[3,4];r=t[e];return[4,z(this,W).getCertificatesById(r.id)];case 2:i=o.sent();if(i){(n=this.certificates).push.apply(n,i)}o.label=3;case 3:e++;return[3,1];case 4:z(this,W).options.logger(O.DATA_CERTIFICATES_RESOLVED);return[2]}}))}))};e.prototype.dataProviders=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:z(this,W).options.logger(O.DATA_PROVIDERS_PENDING);e=this;return[4,z(this,W).getProvidersInfo()];case 1:e.providers=t.sent();z(this,W).options.logger(O.DATA_PROVIDERS_RESOLVED);return[2]}}))}))};return e}();W=new WeakMap;var H="*{-webkit-box-sizing:border-box;box-sizing:border-box}.peculiar_stroke_dark{border-color:#40484f;border-color:rgb(var(--peculiar-color-dark-rgb, 64, 72, 79))}.peculiar_fill_dark{background-color:#40484f;background-color:rgb(var(--peculiar-color-dark-rgb, 64, 72, 79))}.peculiar_color_dark{color:#40484f;color:rgb(var(--peculiar-color-dark-rgb, 64, 72, 79))}.peculiar_stroke_light{border-color:#ffffff;border-color:rgb(var(--peculiar-color-light-rgb, 255, 255, 255))}.peculiar_fill_light{background-color:#ffffff;background-color:rgb(var(--peculiar-color-light-rgb, 255, 255, 255))}.peculiar_color_light{color:#ffffff;color:rgb(var(--peculiar-color-light-rgb, 255, 255, 255))}.peculiar_stroke_grey_1{border-color:#FAF9F9;border-color:rgb(var(--peculiar-color-grey_1-rgb, 250, 249, 249))}.peculiar_fill_grey_1{background-color:#FAF9F9;background-color:rgb(var(--peculiar-color-grey_1-rgb, 250, 249, 249))}.peculiar_color_grey_1{color:#FAF9F9;color:rgb(var(--peculiar-color-grey_1-rgb, 250, 249, 249))}.peculiar_stroke_grey_2{border-color:#EEF4F7;border-color:rgb(var(--peculiar-color-grey_2-rgb, 238, 244, 247))}.peculiar_fill_grey_2{background-color:#EEF4F7;background-color:rgb(var(--peculiar-color-grey_2-rgb, 238, 244, 247))}.peculiar_color_grey_2{color:#EEF4F7;color:rgb(var(--peculiar-color-grey_2-rgb, 238, 244, 247))}.peculiar_stroke_grey_3{border-color:#E1E4E6;border-color:rgb(var(--peculiar-color-grey_3-rgb, 225, 228, 230))}.peculiar_fill_grey_3{background-color:#E1E4E6;background-color:rgb(var(--peculiar-color-grey_3-rgb, 225, 228, 230))}.peculiar_color_grey_3{color:#E1E4E6;color:rgb(var(--peculiar-color-grey_3-rgb, 225, 228, 230))}.peculiar_stroke_grey_4{border-color:#b6c3cc;border-color:rgb(var(--peculiar-color-grey_4-rgb, 182, 195, 204))}.peculiar_fill_grey_4{background-color:#b6c3cc;background-color:rgb(var(--peculiar-color-grey_4-rgb, 182, 195, 204))}.peculiar_color_grey_4{color:#b6c3cc;color:rgb(var(--peculiar-color-grey_4-rgb, 182, 195, 204))}.peculiar_stroke_grey_5{border-color:#6d7d87;border-color:rgb(var(--peculiar-color-grey_5-rgb, 109, 125, 135))}.peculiar_fill_grey_5{background-color:#6d7d87;background-color:rgb(var(--peculiar-color-grey_5-rgb, 109, 125, 135))}.peculiar_color_grey_5{color:#6d7d87;color:rgb(var(--peculiar-color-grey_5-rgb, 109, 125, 135))}.peculiar_stroke_secondary{border-color:#0abe65;border-color:rgb(var(--peculiar-color-secondary-rgb, 10, 190, 101))}.peculiar_fill_secondary{background-color:#0abe65;background-color:rgb(var(--peculiar-color-secondary-rgb, 10, 190, 101))}.peculiar_color_secondary{color:#0abe65;color:rgb(var(--peculiar-color-secondary-rgb, 10, 190, 101))}.peculiar_stroke_primary{border-color:#0680ff;border-color:rgb(var(--peculiar-color-primary-rgb, 6, 128, 255))}.peculiar_fill_primary{background-color:#0680ff;background-color:rgb(var(--peculiar-color-primary-rgb, 6, 128, 255))}.peculiar_color_primary{color:#0680ff;color:rgb(var(--peculiar-color-primary-rgb, 6, 128, 255))}.peculiar_stroke_attention{border-color:#F7A831;border-color:rgb(var(--peculiar-color-attention-rgb, 247, 168, 49))}.peculiar_fill_attention{background-color:#F7A831;background-color:rgb(var(--peculiar-color-attention-rgb, 247, 168, 49))}.peculiar_color_attention{color:#F7A831;color:rgb(var(--peculiar-color-attention-rgb, 247, 168, 49))}.peculiar_h4{font-size:17px;line-height:1.4;font-weight:600;letter-spacing:0.188889px}.peculiar_h6{font-size:15px;line-height:20px;font-weight:600;letter-spacing:0.3px}.peculiar_h7{font-size:14px;line-height:1.35;font-weight:600;letter-spacing:0px}.peculiar_b1{font-size:15px;line-height:1.46;font-weight:400;letter-spacing:0.3px}.peculiar_b3{font-size:13px;line-height:1.5;font-weight:400;letter-spacing:0.03em}.peculiar_c1{font-size:11px;line-height:1.36;font-weight:400;letter-spacing:0.03em}peculiar-fortify-button+peculiar-fortify-button{margin-left:10px}:host{display:block}.container_details{position:absolute;width:100%;height:100%;top:0;left:0;z-index:1}.container_details_header{border-bottom-width:1px;border-bottom-style:solid;padding:10px 100px;position:relative;height:45px}.container_details_button{position:absolute;top:50%;left:8px;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.container_details_content{height:calc(100% - 45px);overflow:auto}";var J=undefined&&undefined.__classPrivateFieldGet||function(e,t){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return t.get(e)};var K=undefined&&undefined.__classPrivateFieldSet||function(e,t,r){if(!t.has(e)){throw new TypeError("attempted to set private field on non-instance")}t.set(e,r);return r};var Y;var q=e("peculiar_fortify_certificates",function(){function e(e){var t=this;r(this,e);Y.set(this,void 0);this.filters={};this.action=O.CONNECTION_PENDING;this.tick=0;this.onLog=function(e,r){return __awaiter(t,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:if(this.debug){console.log({type:e,body:r})}if(!(e===O.PROVIDERS_ADDED||e===O.PROVIDERS_REMOVED))return[3,2];return[4,J(this,Y).dataProviders()];case 1:t.sent();return[2];case 2:this.action=e;if(e===O.CONNECTION_RESOLVED){J(this,Y).dataProviders()}if(e===O.DATA_PROVIDERS_RESOLVED){J(this,Y).dataCertificates()}return[2]}}))}))};this.onClickCancel=function(){t.cancel.emit()};this.onClickContinue=function(){var e=J(t,Y).getSelectedCertificate();if(e){t.continue.emit({certificateId:e.id,providerId:e.providerID,server:J(t,Y).getServer(),privateKeyId:e.privateKeyId})}};this.onClickUpdateCertificates=function(){J(t,Y).dataCertificates()};this.onClickTryAgain=function(){J(t,Y).tryLogin()};this.onClickCloseDetails=function(){t.certificateBase64ForDetails=null};this.onClickCertificate=function(e){J(t,Y).selectCertificate(e);t.tick+=1};this.onClickCertificateDetails=function(e,r){J(t,Y).getCertificateBodyById(e,r).then((function(e){t.certificateBase64ForDetails=e}))};this.cancel=i(this,"cancel",7);this.continue=i(this,"continue",7)}e.prototype.componentWillLoad=function(){s.setLocale(this.language)};e.prototype.componentDidLoad=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:K(this,Y,new U({logger:this.onLog,filters:this.filters}));return[4,J(this,Y).start()];case 1:e.sent();return[2]}}))}))};e.prototype.componentDidUnload=function(){J(this,Y).finish()};e.renderConnecting=function(){return n("peculiar-fortify-connecting",null)};e.renderFortifyAuthorization=function(e){return n("peculiar-fortify-authorization",{pin:e})};e.renderFortifyNotDetected=function(){return n("peculiar-fortify-not-detected",null)};e.renderFortifyNotSupported=function(){return n("peculiar-fortify-not-supported",null)};e.prototype.renderChallengeNotApproved=function(){return n("peculiar-fortify-challenge-not-approved",{onCancel:this.onClickCancel,onTryAgain:this.onClickTryAgain})};e.prototype.renderCertificates=function(){var e=this.action===O.DATA_CERTIFICATES_PENDING;var t;if(!e){t=J(this,Y).getSelectedCertificate()}return n("peculiar-fortify-certificates-list",{certificates:J(this,Y).certificates,onCertificate:this.onClickCertificate,onCertificateDetails:this.onClickCertificateDetails,onUpdate:this.onClickUpdateCertificates,onCancel:this.onClickCancel,onContinue:this.onClickContinue,loading:e,allowContinue:t})};e.prototype.renderProvidersEmpty=function(){return n("peculiar-fortify-providers-empty",{onCancel:this.onClickCancel})};e.prototype.renderUnresolvedStatus=function(){return n("peculiar-fortify-layout",{type:"message",titleValue:"Someting went wrong for status",descriptionValue:this.action})};e.prototype.render=function(){var e=null;switch(this.action){case O.CONNECTION_PENDING:case O.CONNECTION_RESOLVED:case O.DATA_PROVIDERS_PENDING:e=q.renderConnecting();break;case O.CONNECTION_REJECTED:case O.CLOSE:e=q.renderFortifyNotDetected();this.certificateBase64ForDetails=null;break;case O.CONNECTION_NOT_SUPPORTED:e=q.renderFortifyNotSupported();break;case O.CHALLENGE_PENDING:e=q.renderFortifyAuthorization(J(this,Y).getChallenge());break;case O.CHALLENGE_REJECTED:e=this.renderChallengeNotApproved();break;case O.DATA_PROVIDERS_RESOLVED:if(J(this,Y).providers.length===0){e=this.renderProvidersEmpty()}break;case O.DATA_CERTIFICATES_PENDING:case O.DATA_CERTIFICATES_RESOLVED:e=this.renderCertificates();break;default:e=this.renderUnresolvedStatus()}if(this.action===O.DATA_PROVIDERS_PENDING&&J(this,Y).providers.length){e=this.renderCertificates()}return n(a,null,n("peculiar-fortify-layout",null,this.certificateBase64ForDetails&&n("div",{class:"container_details peculiar_fill_light"},n("header",{class:"container_details_header peculiar_stroke_grey_3"},n("peculiar-fortify-typography",{type:"h4",align:"center",ellipsis:true},l("details.title")),n("peculiar-fortify-button",{class:"container_details_button",onClick:this.onClickCloseDetails,"aria-label":"Close details",size:"small"},n("img",{slot:"icon",src:o("../assets/back_icon.svg"),alt:"Back"}),l("actions.back"))),n("div",{class:"container_details_content"},n("peculiar-certificate-viewer",{certificate:this.certificateBase64ForDetails,view:"mobile"}))),e))};Object.defineProperty(e,"assetsDirs",{get:function(){return["../../assets"]},enumerable:true,configurable:true});return e}());Y=new WeakMap;q.style=H}}}));